- fix the HACKS (waiting for arbitrary times
- make this work for threads across cores
